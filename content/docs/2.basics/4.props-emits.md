---
title: Props & Emits
description: Props와 Emits의 개념과 활용 방법을 이해하고 이를 적절히 사용하는 방법에 대해 알아봅니다.
navigation:
  icon: i-lucide-git-compare-arrows
---

## Props & Emits
Props와 Emit은 Vue 컴포넌트 간의 통신을 가능하게 하는 핵심적인 요소입니다. `Props`는 부모 컴포넌트에서 자식 컴포넌트로 데이터를 전달하는 데 사용되며,
`Emit`은 자식 컴포넌트에서 부모 컴포넌트로 사용자 정의 이벤트를 발생시키고 데이터를 전달하는 데 사용됩니다.

## Props 선언
props는 컴포넌트에서 명시적으로 선언하여 해당 컴포넌트가 외부로부터 전달받을 데이터를 처리하거나 표시하도록 설계된 요소입니다. 이를 활용함으로써 컴포넌트 간 데이터 전달이 간결하게 이루어지며, 컴포넌트의 재사용성과 유지보수성을 높이는 중요한 역할을 합니다.

props를 선언하는 다양한 방법이 존재하지만, 이번에는 Vue 3.5의 "반응형 props 구조 분해" 방식을 활용하여 선언하는 방법을 소개하려고 합니다.

### Before
```typescript
const props = withDefaults(
  defineProps<{
    count?: number
    msg?: string
  }>(),
  {
    count: 0,
    msg: 'hello'
  }
)
```
### After
```typescript
const { count = 0, msg = 'hello' } = defineProps<{
  count?: number
  message?: string
}>()
```
`<script setup>`에서 `defineProps`로 선언한 props를 구조 분해 할당하더라도 반응성을 그대로 유지합니다.

예전에는 `withDefaults()`를 활용해야만 기본값을 설정할 수 있었습니다. 하지만 이제는 구조 분해와 JavaScript의 할당 문법을 이용해 props의 기본값을 더 간편하게 설정할 수 있게 되었습니다.
`count`와 `message`의 값이 넘어오지 않으면 `0` 과 `hello`가 기본값으로 들어갑니다.
- 일반 변수와 구조 분해된 props 변수를 더 명확히 구분하고 싶은 개발자를 위해,
- @vue/language-tools 2.1 버전부터는 선택적으로(opt-in) 활성화할 수 있는 설정이 추가되었습니다.
- 이 설정을 켜면, 구조 분해된 props 변수에 인레이 힌트(inlay hints)가 표시됩니다.
::callout{icon="i-lucide-search" color="primary"}
  ::details
    :summary[인레이 힌트(Inlay Hints)란?]
    - 에디터(VSCode 등)에서 변수 위에 작은 글씨로 부가적인 정보를 보여주는 기능입니다.
    - 예: 구조 분해한 props 옆에 (prop) 같은 표시가 붙어서
      
      "이건 props에서 온 값이야" 라는 걸 바로 알 수 있게 도와줌.
  ::
::

## Props를 통한 데이터 전달
데이터는 `v-bind`(단축 문법`:`)를 사용하여 데이터 속성으로 전달하거나 정적 값으로 `props`에 전달할 수 있습니다.
```vue
<!-- 부모 컴포넌트 -->
<script setup lang="ts">
import UserCard from './UserCard.vue'
</script>

<template>
  <UserCard user-name="Sam" :age="20" />
</template>

<!-- 자식 컴포넌트 (UserCard.vue) -->
<script setup lang="ts">
const { username, age } = defineProps<{
  userName: string
  age: number
}>()
</script>

<template>
  <div>
    <p>이름: {{ userName }}</p>
    <p>나이: {{ age }}</p>
  </div>
</template>
```
부모 컴포넌트로부터 전달된 userName과 age를 자식 컴포넌트에서 참조하여 사용할 수 있습니다.

## Props 사용 시 주의점
자식 컴포넌트에서 props를 수정하려고 하면 개발자 콘솔에 경고 메시지를 보게 될 것입니다. 이는 Vue가 부모와 자식 컴포넌트 간의 데이터 흐름을 단방향으로 유지하는 것을 원칙으로 하기 때문입니다.
```javascript
props.count++ 
```
- 필요 시 `ref()`로 복사해서 사용
- **단방향 데이터 흐름 유지**: props는 부모의 상태를 반영하는 역할

## Emit 선언
컴포넌트가 발생시킬 수 있는 이벤트를 `emits` 옵션을 사용하여 선언하는 것이 권장됩니다. Vue 3에서는 `<script setup>` 내에서 `defineEmits`를 사용하여 발생하는 이벤트를 명시적으로 선언하며, 이는 발생되는 값에 대한 유효성 검사도 포함할 수 있습니다.

```vue
<!-- 자식 컴포넌트 (UserCard.vue) -->
<template>
  <button @click="handleClick">클릭</button>
</template>

<script setup lang="ts">
const emit = defineEmits<{
  (e: 'select', id: number): void
}>()

const handleClick = () => {
  emit('select', 123) // 부모에게 'select' 이벤트 발생
}
</script>
```
```vue
<!-- 부모 컴포넌트 -->
<template>
  <UserCard @select="onUserSelect" />
</template>

<script setup lang="ts">
const onUserSelect = (id: number) => {
  console.log('선택된 사용자 ID:', id)
}
</script>
```

## Props와 Emit의 관계
- 둘은 반대 방향의 단방향 통신을 담당:
  - `props`: 데이터 전달 (부모 → 자식)
  - `emit`: 이벤트 전달 (자식 → 부모)
- 이렇게 해서 Vue는 부모-자식 간의 명확한 데이터 흐름을 유지합니다.

## 양방향 통신
`props`가 부모에서 자식으로의 단방향 데이터 흐름을 가능하게 하고, `emit`이 자식에서 부모로의 통신을 처리하는 반면, 이 두 메커니즘을 결합하여 양방향 통신을 구현할 수 있습니다. 예를 들어, 자식 컴포넌트가 `props`을 받고, 수정되면 업데이트된 값을 포함하는 이벤트를 다시 부모에게 발생시킬 수 있습니다. 그러면 부모는 이 발생된 이벤트를 수신하고 자체 상태를 업데이트하며, 이는 `props`를 통해 다시 자식에게 전달됩니다.

더 복잡한 시나리오, 즉 깊이 중첩된 컴포넌트나 전역 상태 관리가 필요한 경우에는 상태 관리 라이브러리가 일반적으로 사용됩니다.
