---
title: Router
description: Vue Router의 기본 개념과 동작 방식을 이해하고, 라우트 전환 과정에서 상황에 맞게 적절한 기능을 활용하는 방법을 학습합니다.
navigation:
  icon: i-lucide-route
---

## Overview
웹 개발에서 라우트 설정은 사용자 요청을 처리하고 올바른 콘텐츠를 제공하기 위한 핵심 요소입니다. 라우트는 URL을 기준으로 서버가 어떤 작업을 수행할지, 또는 어떤 페이지를 반환할지 결정하는 역할을 합니다. 이를 통해 사용자는 원하는 정보나 서비스를 쉽게 접근할 수 있으며, 개발자는 체계적인 경로 관리로 복잡한 애플리케이션 구조를 효율적으로 조직할 수 있습니다. 또한, 적절한 라우트 설정은 보안, 성능 최적화, 사용자 경험 향상에도 기여합니다.

> “Nuxt의 페이지 구조는 자동으로 라우팅이 됩니다.
초보자 분들은 routes.ts를 직접 관리하고 싶을 수 있지만,
Nuxt에서는 pages 디렉토리 자체가 라우터 역할을 합니다.
이 가이드에서는 Vite 환경을 기준으로 Vue Router 설치 방법과 
라우트 설정 방식에 대해 설명합니다.” 

## Vite 
### 1. Vue Router 설치
패키지 매니저로 Vue Router 를 설치합니다.
```bash[pnpm]
pnpm add vue-router@4
```
### 2. 라우터 인스턴스 생성
먼저, `src/router/index.ts` 파일을 새롭게 생성하세요. 이 파일은 프로젝트 내에서 라우팅 기능을 관리하는 중심 역할을 하게 됩니다. 

이후, `createRouter()` 메서드를 활용해 라우터 인스턴스를 생성합니다. 이 메서드는 라우터의 구조를 정의하고, 페이지 이동에 필요한 설정들을 처리할 수 있도록 돕습니다. 이를 통해 웹 애플리케이션 내의 다양한 페이지와 뷰 간의 연결이 더욱 효율적으로 이루어질 수 있습니다. 
```typescript
import type { RouteRecordRaw } from 'vue-router'

import HomeView from '~/pages/index.vue'
import UserDetail from '~/pages/user/detail.vue'
import UserView from '~/pages/user/index.vue'

const routes: Array<RouteRecordRaw> = [
  {
    path: '/',
    name: 'Home',
    component: HomeView,
  },
  {
    path: '/user',
    name: 'User',
    component: () => import('~/pages/user/index.vue'),
  }
]

export default routes
```
### 3. 라우터 플러그인 등록
생성한 라우터 인스턴스를 메인 애플리케이션에 등록합니다. 여기서는 `app.use(router)`를 호출하여 우리가 생성한 라우터를 Vue 애플리케이션에 연결합니다. 이제 라우팅 설정에 따라 사용자는 URL을 통해 다양한 화면 간 이동이 가능합니다.
```js
createApp(App).use(router).mount('#app')
```
또는,
```js
const app = createApp(App)
app.use(router)
app.mount('#app')
```

### 4. 동적 라우팅
Vue Router에서 동적 라우팅은 URL의 일부를 변수처럼 사용하여 유연하게 경로를 설정할 수 있는 기능을 제공합니다. 이를 통해 동일한 컴포넌트를 다양한 데이터로 렌더링하거나 사용자 입력에 맞게 동작하도록 구현할 수 있습니다.

동적 라우팅을 설정하려면 경로 정의에서 콜론(`:`)을 사용해 동적 세그먼트를 선언합니다. 

예를 들어:

```js
const routes = [
  {
    path: '/user/:id',
    name: 'User',
    component: UserView
  }
];
```
위 코드에서 `/user/:id`의 `:id`는 동적 세그먼트로, 사용자 ID 같은 변수를 URL에 포함하여 접근할 수 있습니다. 이후 `route.params.id`로 해당 값을 가져와 컴포넌트 내에서 활용 가능합니다.

추가적으로, 중첩 동적 라우팅도 가능합니다. `/post/:category/:postId` 처럼 여러 세그먼트를 사용할 수 있습니다.

### 5. Convention Guide
Vue Router를 활용해 애플리케이션을 개발할 때, 코드의 가독성과 유지보수성을 높이기 위해 컨벤션을 설정하는 것은 중요합니다. 특히 규모가 큰 프로젝트에서 일관된 규칙을 준수하면 협업이 더욱 효율적으로 이루어질 수 있습니다. 여기서는 Vue Router 컨벤션을 구성할 때 참고할 수 있는 몇 가지 가이드를 소개합니다.

route는 각 메뉴(서비스)별로 작성합니다. 서비스별로 작성하게 되면 구조화된 시스템을 만들게되며 가독성과 유지보수성이 높아집니다. 서비스별로 작성하면 체계적인 시스템을 구축할 수 있어 가독성이 높아지고 유지보수가 더 용이해집니다.
```ts
const routes: Array<RouteRecordRaw> = [
  {
    path: '/',
    name: 'Home',
    component: HomeView,
  },
  {
    path: '/mgmt',
    name: 'Mgmt',
    component: MgmtView,
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: Dashboard,
  }
]
```
하위 메뉴는 Nested Routes(중첩 라우트) 방식으로 작성하고, 컴포넌트를 직관적으로 관리하기 위해서 `component: () => import('component/path')`로 작성합니다.
```ts
const routes: Array<RouteRecordRaw> = [
  {
    path: '/mgmt',
    children: [
      { path: '', name: 'Mgmt', component: () => import('~/pages/mgmt/index.vue') },
      { path: 'menu', name: 'MenuMgmt', component: () => import('~/pages/mgmt/menu.vue') },
      { path: 'auth', name: 'AuthMgmt', component: () => import('~/pages/mgmt/auth.vue') },
    ]
  },

]
```
프로젝트의 규모가 크거나, 서비스가 많을 경우 `router`폴더 하위에 각 서비스명으로 ts파일로 작성하여 routes를 작성한다면 효율적으로 관리할 수 있습니다.
```bash
  app/
    ├─ pages/
    ├─ router/
      ├─ route.ts
      ├─ admin.ts
      ├─ system.ts
```
위 폴더구조를 예시로 admin과 system 파일에서 작성한 routes를 `route.ts`에 import 하여 관리합니다.

```ts
// route.ts
import type { RouteRecordRaw } from 'vue-router'
import SystemRoutes from './system'
import AdminRoutes from './admin'

const routes: Array<RouteRecordRaw> = [
  {
    ...
  }
  SystemRoutes,
  AdminRoutes
]
```
